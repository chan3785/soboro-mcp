# Soroswap MCP Server - í”„ë¡œì íŠ¸ ê·œì¹™

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 
Stellar Lumens ë¸”ë¡ì²´ì¸ ìƒì˜ Soroswap DEXì™€ ì—°ë™í•˜ì—¬ AI ì—ì´ì „íŠ¸ê°€ ìë™ìœ¼ë¡œ í† í° ìŠ¤ì™‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” MCP (Model Context Protocol) ì„œë²„ êµ¬ì¶•

### í•µì‹¬ ê°€ì¹˜
- **ë³´ì•ˆ ìš°ì„ **: ëª¨ë“  ê±°ë˜ì™€ í‚¤ ê´€ë¦¬ì—ì„œ ìµœê³  ìˆ˜ì¤€ì˜ ë³´ì•ˆ ë³´ì¥
- **ì„±ëŠ¥ ìµœì í™”**: ë¹ ë¥¸ ì‘ë‹µ ì‹œê°„ê³¼ ë†’ì€ ì²˜ë¦¬ëŸ‰ ë‹¬ì„±
- **ì‚¬ìš©ì ê²½í—˜**: ì§ê´€ì ì´ê³  ì•ˆì „í•œ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
- **ì˜¤í”ˆì†ŒìŠ¤**: íˆ¬ëª…í•˜ê³  ì»¤ë®¤ë‹ˆí‹° ì¤‘ì‹¬ì˜ ê°œë°œ

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê·œì¹™

### ê¸°ìˆ  ìŠ¤íƒ
- **ì–¸ì–´**: TypeScript (ì—„ê²©í•œ íƒ€ì… ì²´í¬)
- **ëŸ°íƒ€ì„**: Node.js 18+
- **í”„ë ˆì„ì›Œí¬**: MCP SDK
- **ë¸”ë¡ì²´ì¸**: Stellar SDK
- **API**: Soroswap API
- **í…ŒìŠ¤íŒ…**: Jest + React Testing Library
- **ë¬¸ì„œí™”**: JSDoc + TypeDoc

### ì½”ë“œ êµ¬ì¡°
```
src/
â”œâ”€â”€ core/           # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ mcp/            # MCP í”„ë¡œí† ì½œ êµ¬í˜„
â”œâ”€â”€ stellar/        # Stellar ë¸”ë¡ì²´ì¸ ì—°ë™
â”œâ”€â”€ soroswap/       # Soroswap API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ security/       # ë³´ì•ˆ ê´€ë ¨ ê¸°ëŠ¥
â”œâ”€â”€ utils/          # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ types/          # TypeScript íƒ€ì… ì •ì˜
â””â”€â”€ tests/          # í…ŒìŠ¤íŠ¸ íŒŒì¼
```

## ğŸ“ ì½”ë”© ê·œì¹™

### 1. TypeScript ê·œì¹™
- ì—„ê²©í•œ íƒ€ì… ì²´í¬ í™œì„±í™” (`strict: true`)
- ëª¨ë“  í•¨ìˆ˜ì™€ ë³€ìˆ˜ì— ëª…ì‹œì  íƒ€ì… ì§€ì •
- ì¸í„°í˜ì´ìŠ¤ ìš°ì„  ì„¤ê³„ (í´ë˜ìŠ¤ ëŒ€ì‹ )
- ì œë„¤ë¦­ í™œìš©ìœ¼ë¡œ ì¬ì‚¬ìš©ì„± í–¥ìƒ

```typescript
// âœ… ì¢‹ì€ ì˜ˆì‹œ
interface SwapRequest {
  fromToken: string;
  toToken: string;
  amount: number;
  slippage: number;
}

const executeSwap = async (request: SwapRequest): Promise<SwapResult> => {
  // êµ¬í˜„
};

// âŒ í”¼í•´ì•¼ í•  ì˜ˆì‹œ
const executeSwap = async (from: any, to: any, amount: any) => {
  // íƒ€ì… ì•ˆì „ì„± ë¶€ì¡±
};
```

### 2. ì—ëŸ¬ ì²˜ë¦¬ ê·œì¹™
- ëª¨ë“  ë¹„ë™ê¸° í•¨ìˆ˜ì— try-catch ë¸”ë¡ ì‚¬ìš©
- ì»¤ìŠ¤í…€ ì—ëŸ¬ í´ë˜ìŠ¤ ì •ì˜ ë° ì‚¬ìš©
- ìƒì„¸í•œ ì—ëŸ¬ ë©”ì‹œì§€ì™€ ë¡œê¹…
- ì‚¬ìš©ì ì¹œí™”ì ì¸ ì—ëŸ¬ ì‘ë‹µ

```typescript
class SoroswapError extends Error {
  constructor(
    message: string,
    public code: string,
    public details?: Record<string, any>
  ) {
    super(message);
    this.name = 'SoroswapError';
  }
}

const safeExecute = async <T>(operation: () => Promise<T>): Promise<T> => {
  try {
    return await operation();
  } catch (error) {
    logger.error('Operation failed', { error });
    throw new SoroswapError(
      'ê±°ë˜ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤',
      'EXECUTION_FAILED',
      { originalError: error }
    );
  }
};
```

### 3. ë³´ì•ˆ ê·œì¹™
- ë¯¼ê°í•œ ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬
- í‚¤ ë¡œí…Œì´ì…˜ ì •ì±… ìˆ˜ë¦½
- ì…ë ¥ê°’ ê²€ì¦ (Zod ìŠ¤í‚¤ë§ˆ ì‚¬ìš©)
- ìŠ¬ë¦¬í”¼ì§€ ë³´í˜¸ ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„

```typescript
import { z } from 'zod';

const SwapRequestSchema = z.object({
  fromToken: z.string().min(1),
  toToken: z.string().min(1),
  amount: z.number().positive(),
  slippage: z.number().min(0.1).max(50)
});

const validateSwapRequest = (data: unknown): SwapRequest => {
  return SwapRequestSchema.parse(data);
};
```

## ğŸ”§ ê°œë°œ ê·œì¹™

### 1. Git ì›Œí¬í”Œë¡œìš°
- **ë¸Œëœì¹˜ ì „ëµ**: Git Flow ì‚¬ìš©
  - `main`: í”„ë¡œë•ì…˜ ì½”ë“œ
  - `develop`: ê°œë°œ ë¸Œëœì¹˜
  - `feature/*`: ê¸°ëŠ¥ ê°œë°œ
  - `hotfix/*`: ê¸´ê¸‰ ìˆ˜ì •
  - `release/*`: ë¦´ë¦¬ìŠ¤ ì¤€ë¹„

- **ì»¤ë°‹ ë©”ì‹œì§€**: Conventional Commits ê·œì¹™
```
feat: add token swap functionality
fix: resolve slippage calculation bug
docs: update API documentation
test: add unit tests for swap validation
refactor: improve error handling in stellar client
```

### 2. ì½”ë“œ ë¦¬ë·° ê·œì¹™
- ëª¨ë“  PRì€ ìµœì†Œ 1ëª…ì˜ ë¦¬ë·°ì–´ ìŠ¹ì¸ í•„ìš”
- ë³´ì•ˆ ê´€ë ¨ ì½”ë“œëŠ” 2ëª…ì˜ ìŠ¹ì¸ í•„ìš”
- ìë™í™”ëœ í…ŒìŠ¤íŠ¸ í†µê³¼ í•„ìˆ˜
- ì½”ë“œ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ ìœ ì§€

### 3. í…ŒìŠ¤íŠ¸ ê·œì¹™
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- í†µí•© í…ŒìŠ¤íŠ¸: API ì—°ë™ ë° ë¸”ë¡ì²´ì¸ ìƒí˜¸ì‘ìš©
- E2E í…ŒìŠ¤íŠ¸: ì „ì²´ ìŠ¤ì™‘ í”Œë¡œìš°
- ëª¨í‚¹ì„ í†µí•œ ì™¸ë¶€ ì˜ì¡´ì„± ê²©ë¦¬

```typescript
describe('Token Swap', () => {
  it('should execute swap successfully', async () => {
    const mockStellarClient = createMockStellarClient();
    const swapService = new SwapService(mockStellarClient);
    
    const result = await swapService.executeSwap({
      fromToken: 'XLM',
      toToken: 'USDC',
      amount: 100,
      slippage: 1.0
    });
    
    expect(result.success).toBe(true);
    expect(result.transactionHash).toBeDefined();
  });
});
```

## ğŸš€ ë°°í¬ ê·œì¹™

### 1. í™˜ê²½ ê´€ë¦¬
- **ê°œë°œ**: ë¡œì»¬ ê°œë°œ í™˜ê²½
- **ìŠ¤í…Œì´ì§•**: í…ŒìŠ¤íŠ¸ë„· ì—°ë™
- **í”„ë¡œë•ì…˜**: ë©”ì¸ë„· ì—°ë™

### 2. CI/CD íŒŒì´í”„ë¼ì¸
```yaml
# GitHub Actions ì˜ˆì‹œ
name: CI/CD Pipeline
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run test
      - run: npm run test:coverage
      
  security:
    runs-on: ubuntu-latest
    steps:
      - run: npm audit
      - run: npm run security:scan
```

### 3. ëª¨ë‹ˆí„°ë§ ê·œì¹™
- ë¡œê·¸ ìˆ˜ì§‘ ë° ë¶„ì„ (Winston ì‚¬ìš©)
- ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§ (Prometheus + Grafana)
- ì•ŒëŒ ì‹œìŠ¤í…œ (Slack/Discord ì—°ë™)
- ì„±ëŠ¥ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•

## ğŸ“Š ì„±ëŠ¥ ê·œì¹™

### 1. ì‘ë‹µ ì‹œê°„ ëª©í‘œ
- ê°€ê²© ì¡°íšŒ: < 2ì´ˆ
- ìŠ¤ì™‘ ì‹¤í–‰: < 10ì´ˆ
- ì”ì•¡ í™•ì¸: < 1ì´ˆ
- ê±°ë˜ íˆìŠ¤í† ë¦¬: < 3ì´ˆ

### 2. ì²˜ë¦¬ëŸ‰ ëª©í‘œ
- ë™ì‹œ ìš”ì²­ ì²˜ë¦¬: 10 TPS
- API í˜¸ì¶œ ì œí•œ ì¤€ìˆ˜
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”

### 3. ìµœì í™” ê¸°ë²•
- ìºì‹± ì „ëµ êµ¬í˜„ (Redis ì‚¬ìš©)
- ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”
- ë¹„ë™ê¸° ì²˜ë¦¬ í™œìš©
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ë° ì§€ì—° ë¡œë”©

## ğŸ›¡ï¸ ë³´ì•ˆ ê·œì¹™

### 1. í‚¤ ê´€ë¦¬
```typescript
class SecureKeyManager {
  private readonly keyVault: KeyVault;
  
  async getPrivateKey(accountId: string): Promise<string> {
    // í•˜ë“œì›¨ì–´ ì§€ê°‘ ë˜ëŠ” ë³´ì•ˆ ì €ì¥ì†Œì—ì„œ í‚¤ ì¡°íšŒ
    return await this.keyVault.getSecret(`stellar-key-${accountId}`);
  }
  
  async rotateKey(accountId: string): Promise<void> {
    // í‚¤ ë¡œí…Œì´ì…˜ ë¡œì§
  }
}
```

### 2. ê±°ë˜ ê²€ì¦
- íŠ¸ëœì­ì…˜ ì„œëª… ì „ ê²€ì¦
- ìŠ¬ë¦¬í”¼ì§€ ë³´í˜¸ ë©”ì»¤ë‹ˆì¦˜
- ìµœëŒ€ ê±°ë˜ í•œë„ ì„¤ì •
- ì˜ì‹¬ìŠ¤ëŸ¬ìš´ í™œë™ ê°ì§€

### 3. ì…ë ¥ ê²€ì¦
- ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ ê²€ì¦
- SQL ì¸ì ì…˜ ë°©ì§€
- XSS ê³µê²© ë°©ì§€
- Rate limiting êµ¬í˜„

## ğŸ“š ë¬¸ì„œí™” ê·œì¹™

### 1. ì½”ë“œ ë¬¸ì„œí™”
- JSDoc ì£¼ì„ í•„ìˆ˜
- ë³µì¡í•œ ë¡œì§ì— ëŒ€í•œ ìƒì„¸ ì„¤ëª…
- API ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œí™”
- ì˜ˆì‹œ ì½”ë“œ í¬í•¨

```typescript
/**
 * í† í° ìŠ¤ì™‘ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
 * 
 * @param request - ìŠ¤ì™‘ ìš”ì²­ ì •ë³´
 * @param request.fromToken - êµí™˜í•  í† í° ì‹¬ë³¼
 * @param request.toToken - êµí™˜ë°›ì„ í† í° ì‹¬ë³¼
 * @param request.amount - êµí™˜í•  ìˆ˜ëŸ‰
 * @param request.slippage - í—ˆìš© ìŠ¬ë¦¬í”¼ì§€ (%)
 * 
 * @returns ìŠ¤ì™‘ ì‹¤í–‰ ê²°ê³¼
 * 
 * @example
 * ```typescript
 * const result = await swapTokens({
 *   fromToken: 'XLM',
 *   toToken: 'USDC',
 *   amount: 100,
 *   slippage: 1.0
 * });
 * ```
 */
async function swapTokens(request: SwapRequest): Promise<SwapResult>
```

### 2. README ë¬¸ì„œ
- í”„ë¡œì íŠ¸ ê°œìš” ë° ëª©ì 
- ì„¤ì¹˜ ë° ì„¤ì • ê°€ì´ë“œ
- ì‚¬ìš© ì˜ˆì‹œ ë° API ë¬¸ì„œ
- ê¸°ì—¬ ê°€ì´ë“œë¼ì¸
- ë¼ì´ì„ ìŠ¤ ì •ë³´

### 3. API ë¬¸ì„œ
- OpenAPI/Swagger ìŠ¤í™ ì‘ì„±
- ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ
- ì—ëŸ¬ ì½”ë“œ ë° ë©”ì‹œì§€
- ì¸ì¦ ë°©ë²• ì„¤ëª…

## ğŸ¤ ì»¤ë®¤ë‹ˆí‹° ê·œì¹™

### 1. ê¸°ì—¬ ê°€ì´ë“œë¼ì¸
- ì´ìŠˆ í…œí”Œë¦¿ ì‚¬ìš©
- PR í…œí”Œë¦¿ ì‚¬ìš©
- ì½”ë“œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì¤€ìˆ˜
- í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± í•„ìˆ˜

### 2. ì»¤ë®¤ë‹ˆì¼€ì´ì…˜
- GitHub Discussions í™œìš©
- Discord ì„œë²„ ìš´ì˜
- ì •ê¸° ê°œë°œì ë¯¸íŒ…
- íˆ¬ëª…í•œ ì˜ì‚¬ê²°ì • í”„ë¡œì„¸ìŠ¤

### 3. ë¼ì´ì„ ìŠ¤ ë° ë²•ì  ê³ ë ¤ì‚¬í•­
- MIT ë¼ì´ì„ ìŠ¤ ì ìš©
- ì˜¤í”ˆì†ŒìŠ¤ ì˜ì¡´ì„± ê²€í† 
- ë³´ì•ˆ ì·¨ì•½ì  ê³µê°œ ì •ì±…
- ê°œì¸ì •ë³´ ë³´í˜¸ ì •ì±…

## ğŸ“ˆ í’ˆì§ˆ ê´€ë¦¬ ê·œì¹™

### 1. ì½”ë“œ í’ˆì§ˆ
- ESLint ê·œì¹™ ì¤€ìˆ˜
- Prettier í¬ë§·íŒ… ì ìš©
- SonarQube ì •ì  ë¶„ì„
- ì •ê¸° ì½”ë“œ ë¦¬íŒ©í† ë§

### 2. í…ŒìŠ¤íŠ¸ í’ˆì§ˆ
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ
- í†µí•© í…ŒìŠ¤íŠ¸ ìë™í™”
- ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì •ê¸° ì‹¤í–‰
- ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰

### 3. ë¬¸ì„œ í’ˆì§ˆ
- ì •ê¸° ë¬¸ì„œ ì—…ë°ì´íŠ¸
- ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜
- ë‹¤êµ­ì–´ ì§€ì› (í•œêµ­ì–´/ì˜ì–´)
- ì ‘ê·¼ì„± ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜

## ğŸ¯ ì„±ê³µ ì§€í‘œ

### 1. ê¸°ìˆ ì  ì§€í‘œ
- ì½”ë“œ ì»¤ë²„ë¦¬ì§€: > 80%
- í‰ê·  ì‘ë‹µ ì‹œê°„: < 5ì´ˆ
- ìŠ¤ì™‘ ì„±ê³µë¥ : > 95%
- ë³´ì•ˆ ì·¨ì•½ì : 0ê°œ

### 2. ì‚¬ìš©ì ì§€í‘œ
- ì‚¬ìš©ì ë§Œì¡±ë„: > 4.5/5
- í™œì„± ì‚¬ìš©ì ìˆ˜ ì¦ê°€
- GitHub ìŠ¤íƒ€ ìˆ˜ ì¦ê°€
- ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬ë„ í–¥ìƒ

### 3. ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ
- ê±°ë˜ëŸ‰ ì¦ê°€
- íŒŒíŠ¸ë„ˆì‹­ í™•ëŒ€
- ìˆ˜ìµì„± ê°œì„ 
- ì‹œì¥ ì ìœ ìœ¨ í™•ëŒ€

## ğŸ”„ ì§€ì†ì  ê°œì„ 

### 1. ì •ê¸° ë¦¬ë·°
- ì›”ê°„ ì„±ê³¼ ë¦¬ë·°
- ë¶„ê¸°ë³„ ëª©í‘œ ì ê²€
- ì—°ê°„ ì „ëµ ìˆ˜ë¦½
- ì‚¬ìš©ì í”¼ë“œë°± ë¶„ì„

### 2. ê¸°ìˆ  ì—…ë°ì´íŠ¸
- ìµœì‹  ë³´ì•ˆ íŒ¨ì¹˜ ì ìš©
- ì„±ëŠ¥ ìµœì í™” ì§€ì†
- ìƒˆë¡œìš´ ê¸°ëŠ¥ ê°œë°œ
- ê¸°ìˆ  ë¶€ì±„ í•´ê²°

### 3. ì»¤ë®¤ë‹ˆí‹° ì„±ì¥
- ê°œë°œì ì˜¨ë³´ë”© ê°œì„ 
- ë¬¸ì„œí™” ì§€ì† ì—…ë°ì´íŠ¸
- ì´ë²¤íŠ¸ ë° ì›Œí¬ìƒµ ê°œìµœ
- ì˜¤í”ˆì†ŒìŠ¤ ìƒíƒœê³„ ê¸°ì—¬

---

**ì´ ê·œì¹™ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ì˜ ì„±ê³µì ì¸ ê°œë°œê³¼ ìš´ì˜ì„ ìœ„í•œ ê°€ì´ë“œë¼ì¸ì…ë‹ˆë‹¤. ëª¨ë“  íŒ€ì›ê³¼ ê¸°ì—¬ìê°€ ì´ ê·œì¹™ì„ ì¤€ìˆ˜í•˜ì—¬ ê³ í’ˆì§ˆì˜ Soroswap MCP Serverë¥¼ ë§Œë“¤ì–´ ë‚˜ê°€ê² ìŠµë‹ˆë‹¤.**
description:
globs:
alwaysApply: false
---
